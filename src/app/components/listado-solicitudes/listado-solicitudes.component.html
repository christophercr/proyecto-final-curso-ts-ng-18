@if(solicitudes.length > 0){
    <table data-test="tabla-solicitudes">
        <caption>Listado de Solicitudes</caption>
        <thead id="cabecera-listado">
            <tr>
                <th>
                    <div class="column-sort">
                        Nombre Completo<img data-test="nombre-sort" class="sorter" src="sort-arrows.png" (click)="ordenar('Nombre')"/>
                    </div>
                </th>
                <th>Email</th>
                <th>Edad</th>
                <th>Años de Exp.</th>
                <th>
                    <div class="column-sort">
                        Puesto<img data-test="puesto-sort" class="sorter" src="sort-arrows.png" (click)="ordenar('Puesto')"/>
                    </div>
                </th>
                <th>F. Solicitud</th>
                <th>
                    <div class="column-sort">
                        Estado Solicitud<img data-test="estado-sort" class="sorter" src="sort-arrows.png" (click)="ordenar('Estado')"/>
                    </div>
                <th>Eliminar Solicitud</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @for(solicitud of solicitudes; track solicitud.id){
                <tr>
                    <td>{{solicitud.persona.nombreCompleto}}</td>
                    <td>{{solicitud.persona.email}}</td>
                    <td class="center-text">{{solicitud.persona.fechaNacimiento | edadDesdeFechaNacimiento}}</td>
                    <td class="center-text">{{solicitud.aniosExperiencia}}</td>
                    <td>{{solicitud.puestoSolicitado}}</td>
                    <td>{{solicitud.fechaSolicitud | date:'dd/MM/yyyy'}}</td>
                    <td>{{solicitud.estadoSolicitud}}</td>
                    <td>
                        <a data-test="borrar-solicitud" (click)="borrarSolicitud(solicitud.id)">
                            <mat-icon aria-hidden="false" aria-label="Modificar Solicitud" fontIcon="delete"></mat-icon>
                        </a>
                    </td>
                    <td>
                        <mat-icon [routerLink]="['/modificar-solicitud', solicitud.id]" aria-hidden="false" aria-label="Modificar Solicitud" fontIcon="edit"></mat-icon>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    
    @if(borrado){
        <p class="solicitud-grabada-ok">¡Borrado correctamente!</p>
    }
}@else{
    <p>No hay ninguna solicitud que mostrar.</p>
}
<router-outlet />